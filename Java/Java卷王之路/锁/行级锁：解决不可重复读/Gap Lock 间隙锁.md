---
title: Gap Lock 间隙锁
updated: 2022-11-22T16:08:12
created: 2022-10-16T09:09:30
---

Gap Lock 间隙锁
2022年10月16日
9:09

**间隙锁GAP LOCK概念：**
GAP间隙锁，仅仅是为了防止insert幻影记录而提出的。（因为幻影insert之前，没法被锁定，所以只能锁间隙范围）
对于键值在条件范围内但并不存在的记录，叫做“间隙（GAP)”，InnoDB也会对这个“间隙”加锁，
范围：左开右开，全开区间。
只会出现在RR级别（5.7+默认就是RR）

**间隙锁是如何解决幻读的？**
条件范围内：加其他锁，防止不可重复读。
条件范围外：加间隙锁，防止突然冒出个insert导致幻读。
