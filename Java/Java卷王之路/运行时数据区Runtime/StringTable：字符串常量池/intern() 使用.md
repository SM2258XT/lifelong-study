---
title: intern() 使用
updated: 2022-09-14T09:05:36
created: 2022-05-07T21:34:48
---

public native String intern();
从字符串常量池中查询当前字符串是否存在，若不存在就会将当前字符串放入常量池中。无论怎样都会返回一个最终字符串常量池中的地址。
通俗易懂：有则不管无则加，最终返自常量池。
作用：确保字符串在内存里只有一份拷贝，这样可以节约内存空间，加快字符串操作任务的执行速度。

其他：
1\. intern是一个native方法，调用的是底层C的方法

2\. 字符串常量池池最初是空的，由String类私有地维护。在调用intern方法时，如果池中已经包含了由equals(object)方法确定的与该字符串内容相等的字符串，则返回池中的字符串地址。否则，该字符串对象将被添加到池中，并返回对该字符串对象的地址。（这是源码里的大概翻译）

3\. 如果不是用双引号声明的String对象，可以使用String提供的intern方法：intern方法会从字符串常量池中查询当前字符串是否存在，若不存在就会将当前字符串放入常量池中。比如：

String myInfo = new string("I love atguigu").intern();

4\. 也就是说，如果在任意字符串上调用String.intern方法，那么其返回结果所指向的那个类实例，必须和直接以常量形式出现的字符串实例完全相同。因此，下列表达式的值必定是true

("a"+"b"+"c").intern()=="abc"

5\. 通俗点讲，Interned String就是**确保字符串在内存里只有一份拷贝**，这样可以节约内存空间，加快字符串操作任务的执行速度。注意，这个值会被存放在字符串内部池（String Intern Pool）
