---
title: 局部变量表
updated: 2022-09-13T13:39:23
created: 2022-05-04T20:10:20
---

局部变量表也被称之为局部变量数组或本地变量表
1.  定义为一个**数字数组**，主要用于存储方法参数和定义在方法体内的局部变量，这些数据类型包括各类基本数据类型、对象引用（reference），以及returnAddress返回值类型。
2.  由于局部变量表是建立在线程的栈上，是线程的私有数据，因此不存在数据安全问题
3.  局部变量表所需的容量大小是在**编译期确定**下来的，并保存在方法的Code属性的maximum local variables数据项中。运行期间不会改变大小。
4.  方法嵌套调用的次数由栈的大小决定。一般来说，栈越大，方法嵌套调用次数越多。
对一个函数而言，它的参数和局部变量越多，使得局部变量表膨胀，它的栈帧就越大，以满足方法调用所需传递的信息增大的需求。进而函数调用就会占用更多的栈空间，导致其嵌套调用次数就会减少。
1.  局部变量表中的变量只在当前方法调用中有效。
在方法执行时，虚拟机通过使用局部变量表完成参数值到参数变量列表的传递过程。

当方法调用结束后，随着方法栈帧的销毁，局部变量表也会随之销毁。
1.  局部变量表中**引用的对象都不会被回收**！（不一定，详见逃逸分析）

LineNumberTable属性用于描述Java源代码行号与字节码行号(字节码偏移量)之间的对应关系。它并不是运行时必须的属性，但默认会生成到Class文件之中
**LocalVariableTable**属性表用于描述栈帧中局部变量表中的变量与Java源码中定义的变量之间的关系。它不是运行时必须的属性，默认也不会生成到Class文件之中

![](C:\Users\82609\AppData\Local\Temp\Java\pandoc/media/image1.png)![](C:\Users\82609\AppData\Local\Temp\Java\pandoc/media/image2.png)
