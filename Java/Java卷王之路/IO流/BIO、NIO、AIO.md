---
title: BIO、NIO、AIO
updated: 2022-11-12T14:00:25
created: 2022-05-13T15:56:42
---

**BIO、NIO、AIO区别**
1.  **BIO：**同步阻塞，数据的读取写入必须阻塞在一个线程内等待其完成。
2.  **NIO：**同步非阻塞
借助select的IO多路复用模型，只需要发起一次系统调用就够了,大大优化了性能。

但是呢，select有几个缺点：

监听的IO最大连接数有限，在Linux系统上一般为1024。

select函数返回后，是通过遍历fdset，找到就绪的描述符fd。（仅知道有I/O事件发生，却不知是哪几个流，所以遍历所有流）
1.  IO 面向流，而 NIO 面向缓冲区。
2.  单线程中从通道读取数据到buffer，同时可以继续做别的事情，当数据读取到buffer中后，线程再继续处理数据。写数据也是一样的，一个线程请求写入一些数据到某通道，但不需要等待它完全写入，这个线程同时可以去做别的事情。而Java IO的各种流是阻塞的，当一个线程调用 read() 或 write() 时，该线程被阻塞，直到有一些数据被读取，或数据完全写入。该线程在此期间不能再干任何事情了。
3.  NIO底层由 epoll 实现，该实现饱受诟病的空轮询 bug 会导致 cpu 飙升 100%
1.  **AIO：**异步非阻塞
基于事件和回调机制实现的，也就是应用操作之后会直接返回，不会堵塞在那里，当后台处理完成，操作系统会通知相应的线程进行后续的操作。
