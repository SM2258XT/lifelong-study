---
title: 多线程存在的问题
updated: 2022-09-16T11:00:22
created: 2021-07-11T07:58:31
---

多线程存在的问题
2021年7月11日
7:58

1.  线程安全
数据不一致问题，如读脏数据、丢失数据更新等。
1.  线程活性
由于程序自生的缺陷，或者因为资源稀缺导致线程一直处于非RUNNABLE状态。

常见的线程活性问题有以下几种：
1.  死锁（Deadlock）：类似于鹬蚌相争。鹬：你先放开我就放！蚌：你先放开我一定放！二者一直等着对方先放开，最后二者都死了。多个线程都在互相等待对方释放占用的资源，最后都陷入无限等待中。
2.  锁死（Lockout）：类似于睡美人。睡美人需要王子亲吻才能醒来，而如果一旦王子挂了，睡美人就永远不会醒来，但是睡美人仍然活着。
3.  活锁（LiveLock）：类似于小猫咬尾巴。小猫转圈想咬自己的尾巴，一直咬不到，所以一直转圈不停止。
4.  饥饿（Starvation）：类似于小鸟抢食。健壮的小鸟总能从雏鸟嘴中抢食，雏鸟准备好了进食但是永远都没有食物给她，线程进入了就绪状态但是想要的资源永远被其他优先级高的线程无限抢占。
1.  上下文切换
处理器从一个线程切换到另一个线程执行需要消耗资源
1.  可靠性
可能会由一个线程导致JVM崩溃终止，从而连累使其他所有正常线程都终止。
