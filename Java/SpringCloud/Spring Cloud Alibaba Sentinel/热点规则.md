---
title: '*热点规则'
updated: 2022-02-02T11:02:14
created: 2022-02-02T09:57:48
---

\*热点规则
2022年2月2日
9:57

1.  什么是热点？
热点即经常访问的数据。很多时候我们希望统计某个热点数据中访问频次最高的 Top K 数据，并对其访问进行限制。比如：

商品 ID 为参数，统计一段时间内最常购买的商品 ID 并进行限制

用户 ID 为参数，针对一段时间内频繁访问的用户 ID 进行限制

热点参数限流会统计传入参数中的热点参数，并根据配置的限流阈值与模式，对包含热点参数的资源调用进行限流。热点参数限流可以看做是一种特殊的流量控制，仅对包含热点参数的资源调用生效。
1.  参数索引：第一个参数为0，第二个参数为1……
2.  参数例外项：虽然对某个热点参数进行了限流，但是当该热点参数为特定的某个值时，我们希望限流的力度小一些或者不限流。
3.  兜底方法@SentinelResource
兜底方法，分为系统默认和客户自定义。之前的case，限流出问题后，都是用sentinel系统默认的提示: Blocked by Sentinel (flow limiting)

我们能不能自定？类似hystrix，某个方法出问题了，就找对应的兜底降级方法?

结论 - 从@HystrixCommand到@SentinelResource

配置了热点限流一般也同时配置兜底方法。
![](C:\Users\82609\AppData\Local\Temp\Java\pandoc/media/image1.png)
