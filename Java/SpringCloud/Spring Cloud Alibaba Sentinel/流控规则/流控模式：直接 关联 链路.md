---
title: 流控模式：直接 关联 链路
updated: 2022-02-01T22:17:05
created: 2022-02-01T21:48:57
---

![](C:\Users\82609\AppData\Local\Temp\Java\pandoc/media/image1.png)
1.  直接：
/testA的流量过大，直接限制自己
1.  关联：
当两个资源之间具有资源争抢或者依赖关系的时候，这两个资源便具有了关联。

比如对数据库同一个字段的读操作和写操作存在争抢，读的速度过高会影响写得速度，写的速度过高会影响读的速度。如果放任读写操作争抢资源，则争抢本身带来的开销会降低整体的吞吐量。可使用关联限流来避免具有关联关系的资源之间过度的争抢。

电商的 下订单 和 支付两个操作，需要优先保障 支付， 可以根据 支付接口的 流量阈值，来对订单接口进行限制，从而保护支付的目的。

如右图，/testB的流量过大，将会导致/testA被限流（别人失败限制自己）
1.  链路：
只针对从指定链路访问到本资源的请求做统计，判断是否超过阈值。
