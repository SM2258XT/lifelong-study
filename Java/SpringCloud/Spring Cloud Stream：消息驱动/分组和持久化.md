---
title: 分组和持久化
updated: 2022-02-01T19:37:19
created: 2022-02-01T19:22:14
---

1.  消息分组
    1.  消息重复：消息发出去后，如果不经过配置，所有的接受者都会接收到，有几个消费者就会被重复消费几次。使用消息分组来解决。
    2.  分组：不同的组是可以重复消费的，同一个组内会发生竞争关系，只有其中一个可以消费。所以把消费者都放到同一个组里。
    3.  使用：配置yml中的group属性即可：group: A_Group
2.  消息持久化
MQ的基本特性之一就是消息持久化，队列里有消息还未取出，只要是同一个分组内，即使消费者停机重启后，仍然能取出队列里的消息。
